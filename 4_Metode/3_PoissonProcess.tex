\subsection{Poisson Distribution and Process}
\label{sec:Method:Poisson}
The Poisson distribution models the probability that a given number of independent events, from a discrete random variable, will happen in a specific time interval \cite{PoissonScience}. 
The events will happen at some rate, defined by the symbol $\lambda$, also named the intensity function. 
For instance, the Poisson distribution could model the discrete random variable that represents two nodes interacting, which can only take two values either 1 (interaction) or 0 (no interaction).
More formally the probability mass function of the Poisson distribution is described by:

\begin{equation}
    p_k = \frac{e^{-\lambda}\lambda^k}{k!} \;\; \text{for} \;\; \lambda > 0 \;\; \text{and} \;\; k = 0,1,\dots
\end{equation}
The intensity function might then be constant throughout the time interval or it may be time-dependent as a function of time, $\lambda(t)$.
Here, $k$ is the number of occurrences for a given event, in this case a node pair interacting and $p_k$ denotes the probability of getting $k$ occurrences.
Worth noting is that a random variable $X$, that is Poisson distributed with intensity rate $\lambda$, has $E[X] = \lambda = Var[X]$.


\subsubsection{Poisson Point Process}
\label{sec:Method:Poisson:PoissonPointProcess}
To understand the Poisson point process it is useful to first define the point process. 
A point process is a stochastic process with a collection of random variables that represent the arrival times of events i.e. when events happen. 
In the case of TDGNs this would be the time points when the nodes interact. 
These arrival times can be defined as ${t_n ; n \ge 0}$, such that:

$$
t_0 = 0 < t_1 < t_2 < ... < t_n
$$

where $t_n$ is the arrival time of the \textit{n}th event.
\\\\
Each of these arrival times will happen one after another, and the times between them are called interarrival times. 
They are independent random variables and can be defined for the point process as:

\begin{align*}
T_1 &= t_1 - t_0 \\
T_2 &= t_2 - t_1 \\
&\dots \\
T_n &= t_n - t_{n-1}
\end{align*}
where ${T_n ; n \ge 1}$ is a stochastic process with the random variables denoting the interarrival times.
\\\\
Now a Poisson point process with intensity, or rate, $\lambda > 0$ can be defined as a point process, where the interarrival times ${T_n ; n \ge 1}$ are independent exponentially distributed random variables. 
If the intensity function $\lambda$ of the Poisson process is constant for all time intervals, the process is said to be homogeneous. 
If the intensity function of the Poisson process is depending on time, i.e. $\lambda(t)$, then the process is said to be non-homogeneous or in-homogeneous.

In the case of this project a non-homogeneous Poisson point process is used. 
This is because the intensity function, which describes the likelihood of node interactions, is governed by the squared Euclidean distance between the nodes. 
This distance should change through time, as the nodes changes positions in the Euclidean latent space and as such the intensity function should change trough time \cite{Bas2019AProcess}.

During these interarrival times, the Poisson process increments happen as:

\begin{align*}
X_1 &= X(t_1) - X(t_0) \\
X_2 &= X(t_2) - X(t_1) \\
&\;\;\;\;\;\;\;\dots \\
X_n &= X(t_n) - X(t_{n-1})
\end{align*}
and are independent random variables that yield the number of events happening in the time interval $(t_{n-1}, t_n]$. 

Now if the Poisson process is homogeneous with $\lambda > 0$, has a starting time $s \ge 0$ and an interarrival time step $t > 0$, then the random variable $X(s+t) - X(s)$ is Poisson distributed, such that:

\begin{equation}
    P(X(s+t) - X(s) = k) = \frac{(\lambda)^k e^{-\lambda}}{k!} \;\; \text{for} \;\; k=0,1,\dots
\end{equation}
where $X(0) = 0$.

In the case of this project we are interested in the non-homogeneous Poisson process, in which case the process increments $X(s+t) - X(s)$ has the rate $\lambda(t)$ and becomes Poisson distributed with parameter $\int_s^t \lambda(u)\; du$, such that:

\begin{equation}
    P(X(s+t) - X(s) = k) = \frac{\left(\int_s^{s+t} \lambda(u) \; du \right)^k exp\left(-\int_s^{s+t} \lambda(u) \; du\right)}{k!}
\end{equation}
This gives the probability of having $k$ events in the time interval $(s, s+t]$ for the non-homogeneous Poisson point process.


\subsubsection{Event Probability}
\label{sec:Method:Poisson:EventProbability}
If we consider the case where the interarrival times $(s, s+t]$ are made infinitesimally small, such that $t = dt$, it will be assumed that no more than one event can occur during the interarrival time $(s, s+dt]$, leading to:

\begin{align}
P(X(s+dt) - X(s) = k) = 
\begin{cases}
    1 - \lambda(u) \; dt \; &\text{for} \; k=0 \\
    \lambda(u) \; dt \; &\text{for} \; k=1 \\
    0 \; &\text{for} \; k > 1
\end{cases}
\end{align}
This means that the event probability of a single event happening becomes:

\begin{align}
\begin{split}
    P(X(s+t) - X(s) = 1) 
    &= 
    \frac{\left(\int_s^{s+t} \lambda(u) \; du \right)^1 \exp \left(-\int_s^{s+t} \lambda(u) \; du\right)}{1!} \\
    &= 
    \left(\int_s^{s+t} \lambda(u) \; du \right) \exp \left(-\int_s^{s+t} \lambda(u) \; du\right)
\label{prob_single_event}
\end{split}
\end{align}
which can be rewritten, through the notion that for a function $f(x)$ with antiderivative $F(x)$ integrated over an infinitesimal interval it holds that:

\begin{equation}
    \int_s^{s+dt} f(u) \; du = F(u) \rvert_s^{s+dt} = F(s+dt) - F(s) = F^{\prime}(s) \; dst = f(s) \; dt
\end{equation}
Applied to (\ref{prob_single_event}), it yields:

\begin{equation}
    P(X(s+t) - X(s) = 1) = \lambda(s)dt \; e^{-\lambda(s)dt}
\end{equation}
This can be expanded with the power series to get:

\begin{equation}
    P(X(s+t) - X(s) = 1) = \lambda(s) dt
\end{equation}
Here, the higher orders of the infinitesimal $ds$ are neglected.


\subsubsection{Non-Event Probability}
\label{sec:Method:Poisson:NonEventProbability}
A similar starting point can be taken for the non-event probability as with the event probability.

If we consider the non-homogeneous Poisson point process with intensity $\lambda(t)$. 
The probability of no events happening during the interarrival time $(s, s+t]$ becomes:

\begin{equation}
    P(X(s+t) - X(s) = 0) 
    = 
    \frac{\left(\int_s^t \lambda(u)du \right)^0 \exp \left(- \int_s^t \lambda(u)du\right)}{0!}
    = 
    \exp \left(- \int_s^t \lambda(u)du\right)
\end{equation}
where $t = dt$ for infinitesimally small interarrival times.
